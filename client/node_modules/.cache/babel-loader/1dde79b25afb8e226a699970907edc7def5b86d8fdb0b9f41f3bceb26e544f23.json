{"ast":null,"code":"import _slicedToArray from\"/Users/parkerstovall/Desktop/WorkStuff/ChessAI_WebAPI/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{GeneratedAPI}from'./GeneratedAPI.ts';import Board from'./components/Board.tsx';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),whiteDisplay=_useState2[0],setWhiteDisplay=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),blackDisplay=_useState4[0],setBlackDisplay=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),board=_useState6[0],setBoard=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),gameID=_useState8[0],setGameID=_useState8[1];var api=new GeneratedAPI(\"http://localhost:4000\");function LoadInitialBoard(){api.startGame().then(function(lGameID){setGameID(lGameID);api.getBoard(lGameID).then(function(board){setBoard(board);setWhiteDisplay(false);setBlackDisplay(false);});});}function GetMoves(col,row){api.getMoves(gameID,col,row).then(function(moves){moves.forEach(function(move){var square=document.getElementById(\"square-\".concat(move[0],\"-\").concat(move[1]));if(square!==null){square.classList.add(\"highlighted\");}});});}function MovePiece(col,row){api.movePiece(gameID,col,row).then(function(message){alert(message);});}function BoardSquareClick(col,row){var square=document.getElementById(\"square-\".concat(col,\"-\").concat(row));var action=null;if(square!==null){if(square.classList.contains(\"highlighted\")){action=MovePiece;}else{action=GetMoves;}}document.querySelectorAll('.highlighted').forEach(function(el){el.classList.remove('highlighted');});if(action!==null){action(col,row);}}useEffect(function(){LoadInitialBoard();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pieceDisplay\",style:{display:whiteDisplay?\"block\":\"none\"},id:\"WhiteDisplay\"}),/*#__PURE__*/_jsx(Board,{board:board,clickFunc:BoardSquareClick}),/*#__PURE__*/_jsx(\"div\",{className:\"pieceDisplay\",style:{display:blackDisplay?\"block\":\"none\"},id:\"BlackDisplay\"})]});}export default App;","map":{"version":3,"names":["useEffect","useState","GeneratedAPI","Board","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","whiteDisplay","setWhiteDisplay","_useState3","_useState4","blackDisplay","setBlackDisplay","_useState5","_useState6","board","setBoard","_useState7","_useState8","gameID","setGameID","api","LoadInitialBoard","startGame","then","lGameID","getBoard","GetMoves","col","row","getMoves","moves","forEach","move","square","document","getElementById","concat","classList","add","MovePiece","movePiece","message","alert","BoardSquareClick","action","contains","querySelectorAll","el","remove","children","className","style","display","id","clickFunc"],"sources":["/Users/parkerstovall/Desktop/WorkStuff/ChessAI_WebAPI/client/src/App.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { BoardDisplay, GeneratedAPI } from './GeneratedAPI.ts';\nimport Board from './components/Board.tsx';\nimport './App.css';\n\nfunction App() {\n  const [whiteDisplay, setWhiteDisplay] = useState<boolean>(false);\n  const [blackDisplay, setBlackDisplay] = useState<boolean>(false);\n  const [board, setBoard] = useState<BoardDisplay>();\n  const [gameID, setGameID] = useState<number>(-1);\n  const api = new GeneratedAPI(\"http://localhost:4000\");\n\n  function LoadInitialBoard() {\n    \n    api.startGame().then((lGameID) => {\n      setGameID(lGameID);\n\n      api.getBoard(lGameID).then((board) => {\n        setBoard(board);\n        setWhiteDisplay(false);\n        setBlackDisplay(false);\n      });\n      \n    });\n\n  }\n\n  function GetMoves(col: number, row: number) {\n    api.getMoves(gameID, col, row).then((moves) => {\n      moves.forEach((move) => {\n        let square = document.getElementById(`square-${move[0]}-${move[1]}`);\n\n        if (square !== null) {\n          square.classList.add(\"highlighted\");\n        }\n      });\n    });\n  }\n  \n  function MovePiece(col: number, row: number) {\n    api.movePiece(gameID, col, row).then((message) => {\n      alert(message);\n    });\n  }\n\n  function BoardSquareClick(col: number, row: number) {\n\n    const square = document.getElementById(`square-${col}-${row}`);\n    let action: Function | null = null;\n\n    if (square !== null) {\n      if(square.classList.contains(\"highlighted\")) {\n        action = MovePiece;\n      }\n      else {\n        action = GetMoves;\n      }\n    }\n\n    document.querySelectorAll('.highlighted').forEach((el) => {\n      el.classList.remove('highlighted');\n    });\n\n    if (action !== null) {\n      action(col, row);\n    }\n  }\n\n  useEffect(() => {\n    LoadInitialBoard();\n  }, []);\n\n  return (\n    <>\n      <div className=\"pieceDisplay\" style={{display: whiteDisplay ? \"block\" : \"none\"}} id=\"WhiteDisplay\"></div>\n      <Board board={board} clickFunc={BoardSquareClick} />\n      <div className=\"pieceDisplay\" style={{display: blackDisplay ? \"block\" : \"none\"}} id=\"BlackDisplay\"></div>\n    </>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}